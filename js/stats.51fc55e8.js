(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stats"],{"1c1d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VExpansionPanelContent=e.VExpansionPanel=void 0;var i=n("e8e1"),a=r(i),s=n("5efd"),o=r(s);function r(t){return t&&t.__esModule?t:{default:t}}e.VExpansionPanel=a.default,e.VExpansionPanelContent=o.default,e.default={$_vuetify_subcomponents:{VExpansionPanel:a.default,VExpansionPanelContent:o.default}}},"4ec6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VTooltip=void 0;var i=n("fcdd"),a=s(i);function s(t){return t&&t.__esModule?t:{default:t}}e.VTooltip=a.default,e.default=a.default},"5efd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("2330"),a=n("a6ab"),s=m(a),o=n("6d61"),r=m(o),l=n("3ddf"),u=m(l),c=n("7342"),d=n("6a6f"),p=m(d),h=n("d52a"),f=m(h),v=n("66f6");function m(t){return t&&t.__esModule?t:{default:t}}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.default=(0,f.default)(s.default,r.default,u.default,(0,c.inject)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,v.consoleWarn)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(t){13===t.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var t=[].concat(y(this.$slots.header||[]));return this.hideActions||t.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},t)},genIcon:function(){var t=this.$slots.actions||[this.$createElement(p.default,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},t)])},toggle:function(t){var e=this;t&&(this.isBooted=!0),this.$nextTick(function(){return e.isActive=t})}},render:function(t){return t("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),t(i.VExpandTransition,[this.genBody()])])}})},"60e8":function(t,e,n){},c321:function(t,e,n){},e8e1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};n("c321");var a=n("a699"),s=u(a),o=n("7342"),r=n("d52a"),l=u(r);function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,l.default)(s.default,(0,o.provide)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return i({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(t){var e=-1;if(!t){var n=this.open.reduce(function(t,e){return e?t+1:t},0),i=Array(this.items.length).fill(!1);1===n&&(e=this.open.indexOf(!0)),e>-1&&(i[e]=!0),this.open=i}this.$emit("input",t?this.open:e>-1?e:null)},value:function(t){this.updateFromValue(t)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(t){if(!Array.isArray(t)||this.expand){var e=Array(this.items.length).fill(!1);"number"===typeof t?e[t]=!0:null!==t&&(e=t),this.updatePanels(e)}},updatePanels:function(t){this.open=t;for(var e=0;e<this.items.length;e++)this.items[e].toggle(t&&t[e])},panelClick:function(t){for(var e=this.expand?this.open.slice():Array(this.items.length).fill(!1),n=0;n<this.items.length;n++)this.items[n]._uid===t&&(e[n]=!this.open[n],!this.expand&&this.$emit("input",e[n]?n:null));this.updatePanels(e),this.expand&&this.$emit("input",e)},register:function(t){var e=this.items.push(t)-1;null!==this.value&&this.updateFromValue(this.value),t.toggle(!!this.open[e])},unregister:function(t){var e=this.items.findIndex(function(e){return e._uid===t._uid});this.items.splice(e,1),this.open.splice(e,1)}},render:function(t){return t("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},ed93:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-card-title",[n("h2",[t._v("Statistics")])]),n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{"pl-2":"","pr-2":""}},[n("v-expansion-panel",{attrs:{expand:""},model:{value:t.expandOptions,callback:function(e){t.expandOptions=e},expression:"expandOptions"}},[n("v-expansion-panel-content",{key:"1"},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("Query options")]),n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-select",{attrs:{label:"Endpoint",items:t.endpoints},model:{value:t.params.endpoint,callback:function(e){t.$set(t.params,"endpoint",e)},expression:"params.endpoint"}})],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-select",{attrs:{label:"Default level",items:t.levels,"item-value":"value.id"},model:{value:t.params.level,callback:function(e){t.$set(t.params,"level",e)},expression:"params.level"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:"Query"},model:{value:t.params.query,callback:function(e){t.$set(t.params,"query",e)},expression:"params.query"}}),n("span",{staticClass:"caption"},[t._v("Understands an expanded form of "),n("a",{attrs:{href:"http://lucene.apache.org/core/6_5_1/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package.description"}},[t._v("Lucene query parser syntax")]),t._v(". Fields usable in the query are:")]),t._l(t.availableQueryableFields,function(e){return n("v-tooltip",{key:e.field,attrs:{bottom:""}},[n("v-chip",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v(t._s(e.field))]),t._v(t._s(e.fieldInfo.description))],1)})],2)],1)],1)],1),n("v-expansion-panel-content",{key:"2"},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("Return options")]),n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-autocomplete",{attrs:{close:"",label:"Fields to return",multiple:"",chips:"",items:t.availableFields,"item-value":"value.field"},scopedSlots:t._u([{key:"selection",fn:function(e){return n("v-chip",{attrs:{color:"primary","text-color":"white",close:""},on:{input:function(t){return e.parent.selectItem(e.item)}}},[t._v(t._s(e.item.value.field))])}}]),model:{value:t.params.field,callback:function(e){t.$set(t.params,"field",e)},expression:"params.field"}})],1),n("v-flex",{attrs:{xs6:"",sm3:""}},[n("v-text-field",{attrs:{label:"Max documents to sample",hint:"-1 for no limit",type:"number"},model:{value:t.params.maxDocs,callback:function(e){t.$set(t.params,"maxDocs",e)},expression:"params.maxDocs"}})],1)],1)],1)],1),n("v-expansion-panel-content",{key:"3"},[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("Advanced options")]),n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Other parameters"},model:{value:t.otherParameters,callback:function(e){t.otherParameters=e},expression:"otherParameters"}})],1)],1)],1)],1)],1)],1),n("v-flex",[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.search()}}},[t._v("Query")])],1)],1)],1),t._v(" "),n("v-alert",{attrs:{value:t.errorMessage,color:"error",icon:"warning"}},[n("h2",[t._v("An error occurred:")]),n("pre",[t._v(t._s(t.errorMessage))])]),n("v-card",{attrs:{show:!t.error}},[n("v-card-title",[n("h2",{directives:[{name:"show",rawName:"v-show",value:t.sampledResults!=t.totalResults,expression:"sampledResults!= totalResults"}]},[t._v("Statistics based on a sample of "+t._s(t._f("numFormat")(t.sampledResults))+" out of a total "+t._s(t._f("numFormat")(t.totalResults))+" results")]),n("h2",{directives:[{name:"show",rawName:"v-show",value:t.sampledResults==t.totalResults,expression:"sampledResults == totalResults"}]},[t._v("Statistics based on all "+t._s(t._f("numFormat")(t.totalResults))+" results")])])],1),t._v(" "),n("v-card",[n("v-card-title",[n("h2",[t._v("Request")])]),n("v-container",{attrs:{fluid:""}},[n("a",{attrs:{href:t.request,target:"_blank"}},[t._v(t._s(t.request))])])],1)],1)},a=[],s=n("a34a"),o=n.n(s),r=n("9ab4"),l=n("32e8"),u=n("def0"),c=n("60a3"),d=n("d3d8"),p=n("3a0b"),h=n("5896"),f=n("c713"),v=n("db3b"),m=n("a582"),y=n("5d92"),b=n("3ace"),g=n("46db"),x=n("3702"),_=n("b3ee"),w=n("4ec6"),O=n("1c1d"),P=n("0fad");function k(t){return k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){j(t,e,n[e])})}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $(t,e,n,i,a,s,o){try{var r=t[s](o),l=r.value}catch(u){return void n(u)}r.done?e(l):Promise.resolve(l).then(i,a)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var s=t.apply(e,n);function o(t){$(s,i,a,o,r,"next",t)}function r(t){$(s,i,a,o,r,"throw",t)}o(void 0)})}}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}function F(t,e){return!e||"object"!==k(e)&&"function"!==typeof e?q(t):e}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function I(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var T=function t(e,n){B(this,t),this.text=e,this.value=n},M=function(t){function e(){var t;return B(this,e),t=F(this,D(e).apply(this,arguments)),t.totalResults=0,t.sampledResults=0,t.params={endpoint:"",query:"",field:[],offset:0,limit:20,maxDocs:5e4,level:"",sortDirection:void 0},t.pagination={sortBy:void 0,descending:!0,page:1,rowsPerPage:t.params.limit},t.otherParameters="",t.generatedQuery="",t.availableFields=[],t.availableQueryableFields=[],t.expandOptions=[!0,!0,!1],t.results=[],t}return I(e,t),S(e,[{key:"search",value:function(){var t=C(o.a.mark(function t(){var e,n,i,a,s,r,c=this;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.error=null,this.loading=!0,this.params.offset=(this.pagination.page-1)*this.pagination.rowsPerPage,this.params.limit=this.pagination.rowsPerPage,this.pagination.sortBy?Object.assign(this.params,{sort:this.pagination.sortBy,sortDirection:this.pagination.descending?"D":"A"}):this.params.sortDirection=void 0,e=Object.assign({},this.$route.query,this.params),Object(l["a"])(this.$route.query,e)||this.$router.push({path:"/stats",query:e}),n=Object.assign({},this.params),t.prev=8,t.next=11,u["a"].get(this.params.endpoint+"queryStats?"+this.otherParameters,{params:n,auth:this.auths[this.params.endpoint]});case 11:i=t.sent,this.request=i.config.url+"?pretty&"+i.config.paramsSerializer(i.config.params),this.totalResults=i.data.result.general.totalDocs,this.sampledResults=i.data.result.general.docFreq,this.results=i.data.result.grouped,a=this.params.field.map(function(t){var e=c.results.find(function(e){return null!=e.fields[t]});return!!e&&"number"==typeof e.fields[t]}),s=a.reduce(function(t,e){return e?t+1:t+0},0),r=this.params.field.length-s,2==s&&0==r||2==s&&1==r||2==s&&2==r||1==s&&0==r||1==s&&1==r||1==s&&2==r||1==s&&3==r||0==s&&1==r||0==r||0==s||(this.results=[],this.error="Don't know how to chart with "+s+" numerical and "+r+" categorical attributes"),console.log(s,r),t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](8),this.results=[],this.error=t.t0;case 27:return t.prev=27,this.loading=!1,t.finish(27);case 30:case"end":return t.stop()}},t,this,[[8,23,27,30]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"onQueryChanged",value:function(){var t=Object.assign({},this.$route.query,this.params);Object(l["a"])(this.$route.query,t)||(Object.assign(this.params,this.$route.query),Array.isArray(this.params.field)||(this.params.field=[this.params.field]),this.params.endpoint&&this.params.query&&this.search())}},{key:"onLevelChanged",value:function(){var t=this;this.availableFields=[],this.availableQueryableFields=[];var e={};if(p["c"].indexInfos[this.params.endpoint]){for(var n in p["c"].indexInfos[this.params.endpoint].commonFields){var i=p["c"].indexInfos[this.params.endpoint].commonFields[n],a={field:n,fieldInfo:i};i.storedAs!=p["b"].NONE&&this.availableFields.push(new T(n+": "+i.description,a)),i.indexedAs!=p["a"].NONE&&this.availableQueryableFields.push(a),e[n]=!0}var s=this.indexInfo.levels.find(function(e){return e.id===t.params.level});for(var o in s.fields)if(!e[o]){var r=s.fields[o],l={field:o,fieldInfo:r};r.storedAs!=p["b"].NONE&&this.availableFields.push(new T(o+": "+r.description,l)),r.indexedAs!=p["a"].NONE&&this.availableQueryableFields.push(l),e[o]=!0}this.params.field=this.params.field.filter(function(t){return e[t]})}}},{key:"headers",get:function(){return[{text:"score",value:"score"}].concat(this.params.field.filter(function(t){return"content"!==t}).map(function(t){return{text:t,value:t}}))}}]),e}(h["a"]);r["a"]([Object(c["d"])("pagination",{deep:!0})],M.prototype,"search",null),r["a"]([Object(c["d"])("$route.query",{immediate:!0})],M.prototype,"onQueryChanged",null),r["a"]([Object(c["d"])("params.level"),Object(c["d"])("indexInfo")],M.prototype,"onLevelChanged",null),M=r["a"]([Object(c["a"])({localStorage:d["a"],components:A({},f,_,w,g,x,y,v,m,b,P,O)})],M);var N=M,V=N,Q=n("2877"),L=Object(Q["a"])(V,i,a,!1,null,null,null);e["default"]=L.exports},fcdd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("60e8");var i=n("a608"),a=y(i),s=n("a950"),o=y(s),r=n("9a8a"),l=y(r),u=n("4479"),c=y(u),d=n("973c"),p=y(d),h=n("6d61"),f=y(h),v=n("f3a7"),m=n("66f6");function y(t){return t&&t.__esModule?t:{default:t}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={name:"v-tooltip",mixins:[a.default,o.default,l.default,c.default,p.default,f.default],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,a=this.isAttached?e.offsetLeft:e.left,s=0;return this.top||this.bottom||i?s=a+e.width/2-n.width/2:(this.left||this.right)&&(s=a+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=this.isAttached?e.offsetTop:e.top,a=0;return this.top||this.bottom?a=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=i+e.height/2-n.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),this.calcYOverflow(a+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:(0,v.convertToUnit)(this.maxWidth),minWidth:(0,v.convertToUnit)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick(function(){t.value&&t.callActivate()})},mounted:function(){"v-slot"===(0,v.getSlotType)(this,"activator",!0)&&(0,m.consoleError)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===(0,v.getSlotType)(this,"activator")){var n=this.$scopedSlots.activator({on:e});return this.activatorNode=n,n}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,n=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},b(e,this.contentClass,!0),b(e,"menuable__content__active",this.isActive),b(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[n]),this.genActivator()])}}}}]);
//# sourceMappingURL=stats.51fc55e8.js.map